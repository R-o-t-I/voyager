(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{163:function(e,t,a){e.exports=a(216)},20:function(e,t,a){"use strict";a.d(t,"b",function(){return r});var n=a(38),l=Object(n.b)({name:"main",initialState:{platform:"",isDesktop:!1,theme:"light",hasHeader:!1,infoUser:{name:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}},reducers:{set:function(e,t){e[t.payload.key]=t.payload.value}}}),r=l.actions.set;t.a=l.reducer},215:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);a(164),a(189);var n=a(0),l=a.n(n),r=a(30),c=a.n(r),i=a(10),o=a(38),u=a(20),m=Object(o.a)({reducer:{main:u.a}}),s=a(15),p=a.n(s),d=[{id:"home",hash:"home",panels:[{id:"base",hash:"/base"},{id:"placeholder",hash:"/placeholder"}]},{id:"map",hash:"map",panels:[{id:"base",hash:"/base"}]},{id:"profile",hash:"profile",panels:[{id:"base",hash:"/base"}]}],b=a(4),f=a(9),E=a.n(f),h=a(80),v=a(218);var k=function(){var e=Object(i.useSelector)(function(e){return e.main.theme}),t=Object(n.useState)(!1),a=Object(h.a)(t,2),r=a[0],c=a[1],o=Object(i.useDispatch)();return Object(n.useEffect)(function(){setTimeout(function(){c(!0)},1)},[]),l.a.createElement(b.j,null,l.a.createElement(b.e,{before:l.a.createElement(v.a,null),disabled:!0,after:r?l.a.createElement(b.A,{onChange:function(){return o(Object(u.b)({key:"theme",value:"dark"===e?"light":"dark"}))},"aria-label":"\u0422\u0451\u043c\u043d\u0430\u044f \u0442\u0435\u043c\u0430"}):l.a.createElement(b.x,{size:"regular"})},"\u0422\u0451\u043c\u043d\u0430\u044f \u0442\u0435\u043c\u0430"))},w=a(219),j=a(220),O=a(221);var y=Object(s.withRouter)(function(e){var t=e.router,a=Object(i.useSelector)(function(e){return e.main.hasHeader});return l.a.createElement(b.y,{fixed:!0,width:"252px",maxWidth:"252px",style:{marginLeft:12}},l.a.createElement(b.q,{id:"menuDesktop"},a&&l.a.createElement(b.r,null),l.a.createElement(b.j,null,l.a.createElement(b.e,{onClick:function(){return t.toView("home")},disabled:"home"===t.activeView,before:l.a.createElement(w.a,null),className:"home"===t.activeView?"activeViewCell":""},"\u041c\u0435\u0441\u0442\u0430"),l.a.createElement(b.e,{onClick:function(){return t.toView("map")},disabled:"map"===t.activeView,before:l.a.createElement(j.a,null),className:"map"===t.activeView?"activeViewCell":""},"\u041a\u0430\u0440\u0442\u0430"),l.a.createElement(b.e,{onClick:function(){return t.toView("profile")},disabled:"profile"===t.activeView,before:l.a.createElement(O.a,null),className:"profile"===t.activeView?"activeViewCell":""},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),l.a.createElement(k,null)))});var V=Object(s.withRouter)(function(e){var t=e.router;function a(e){var a=t.activeView;t.toView(e),e===a&&t.toHash("".concat(e,"/base"))}return l.a.createElement(b.B,{className:"tabbarStyle"},l.a.createElement(b.C,{selected:"home"===t.activeView,onClick:function(){return a("home")},text:"\u041c\u0435\u0441\u0442\u0430"},l.a.createElement(w.a,null)),l.a.createElement(b.C,{selected:"map"===t.activeView,onClick:function(){return a("map")},text:"\u041a\u0430\u0440\u0442\u0430"},l.a.createElement(j.a,null)),l.a.createElement(b.C,{"data-id":"profile",selected:"profile"===t.activeView,onClick:function(){return a("profile")},text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},l.a.createElement(O.a,null)))}),C=a(222);var g=Object(s.withRouter)(function(e){var t=e.nav,a=e.router,r=Object(i.useSelector)(function(e){return e.main.platform});return l.a.createElement(b.n,{nav:t,header:l.a.createElement(b.o,{right:l.a.createElement(n.Fragment,null,r===b.a&&l.a.createElement(b.t,{onClick:function(){return a.toBack()}},l.a.createElement(C.a,null)),r===b.k&&l.a.createElement(b.t,{onClick:function(){return a.toBack()}},l.a.createElement(C.a,null)))},"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"),onClose:function(){return a.toBack()},settlingHeight:100})}),x=Object(n.lazy)(function(){return a.e(3).then(a.bind(null,237))}),D=Object(n.lazy)(function(){return a.e(8).then(a.bind(null,238))}),S=Object(n.lazy)(function(){return a.e(5).then(a.bind(null,239))}),P=Object(n.lazy)(function(){return a.e(4).then(a.bind(null,236))}),H=Object(b.I)(function(e){var t=e.viewWidth,a=e.router,r=Object(i.useSelector)(function(e){return e.main}),c=Object(i.useDispatch)();c(Object(u.b)({key:"isDesktop",value:t>=3})),c(Object(u.b)({key:"platform",value:r.isDesktop?b.F:Object(b.H)()})),c(Object(u.b)({key:"hasHeader",value:!0!==r.isDesktop})),Object(n.useEffect)(function(){E.a.subscribe(function(e){var t=e.detail,a=t.type,n=t.data;"VKWebAppUpdateConfig"===a&&c(Object(u.b)({key:"theme",value:"space_gray"===n.scheme?"dark":"light"}))})},[]);var o=l.a.createElement(b.p,{activeModal:a.modal,onClose:function(){return a.toBack()}},l.a.createElement(g,{nav:"mapFilterModal"}));return l.a.createElement(b.f,{platform:r.platform,appearance:r.theme,isWebView:!0},l.a.createElement(b.c,null,l.a.createElement(b.z,{header:r.hasHeader&&l.a.createElement(b.r,{separator:!1}),style:{justifyContent:"center"}},l.a.createElement(b.y,{animate:!r.isDesktop,width:r.isDesktop?"740px":"100%",maxWidth:r.isDesktop?"740px":"100%"},l.a.createElement(b.h,{activeStory:a.activeView,tabbar:!r.isDesktop&&l.a.createElement(V,null)},l.a.createElement(b.G,{id:"home",activePanel:"route_modal"===a.activePanel?"base":a.activePanel,popout:a.popout,modal:o},l.a.createElement(b.q,{id:"base"},l.a.createElement(n.Suspense,{fallback:l.a.createElement(b.v,null)},l.a.createElement(x,null))),l.a.createElement(b.q,{id:"placeholder"},l.a.createElement(n.Suspense,{fallback:l.a.createElement(b.v,null)},l.a.createElement(D,null)))),l.a.createElement(b.G,{id:"map",activePanel:"route_modal"===a.activePanel?"base":a.activePanel,popout:a.popout,modal:o},l.a.createElement(b.q,{id:"base"},l.a.createElement(n.Suspense,{fallback:l.a.createElement(b.v,null)},l.a.createElement(S,null)))),l.a.createElement(b.G,{id:"profile",activePanel:"route_modal"===a.activePanel?"base":a.activePanel,popout:a.popout,modal:o},l.a.createElement(b.q,{id:"base"},l.a.createElement(n.Suspense,{fallback:l.a.createElement(b.v,null)},l.a.createElement(P,null)))))),r.isDesktop&&l.a.createElement(y,null))))},{viewWidth:!0}),W=Object(s.withRouter)(H);a(214),a(215);E.a.send("VKWebAppInit",{}),c.a.render(l.a.createElement(i.Provider,{store:m},l.a.createElement(b.b,null,l.a.createElement(p.a,{structure:d},l.a.createElement(W,null)))),document.getElementById("root")),Promise.all([a.e(6),a.e(7)]).then(a.bind(null,235)).then(function(e){e.default})}},[[163,1,2]]]);